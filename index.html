<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horizon Luxury Living | The Horizon Suite</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            color: #333;
            line-height: 1.6;
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            font-weight: 500;
        }
        .container {
            width: 90%;
            max-width: 1300px;
            margin: 0 auto;
            padding: 40px 0;
        }
        /* Header */
        .page-header {
            background: #111;
            color: white;
            padding: 15px 0;
            border-bottom: 3px solid #f0b90b;
        }
        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 1300px;
            margin: 0 auto;
        }
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 26px;
            font-weight: 700;
            color: white;
        }
        /* Main layout */
        .suite-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }
        /* Left Column */
        .suite-gallery {
            margin-bottom: 30px;
        }
        .main-image {
            width: 100%;
            height: 450px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
        }
        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        .thumbnail-grid img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
            border: 2px solid transparent;
        }
        .thumbnail-grid img:hover {
            border-color: #f0b90b;
            transform: scale(1.05);
        }

        .suite-title {
            margin: 30px 0 20px;
        }
        .suite-title h1 {
            font-size: 48px;
            margin-bottom: 15px;
            color: #222;
        }
        .suite-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            margin-bottom: 20px;
            padding: 15px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #555;
            font-weight: 500;
        }
        .meta-item i {
            color: #f0b90b;
            font-size: 18px;
            width: 24px;
        }
        .meta-item span.editable {
            min-width: 50px;
            display: inline-block;
        }

        .suite-description {
            margin-bottom: 30px;
        }
        .suite-description p {
            color: #555;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .amenities-section h2 {
            font-size: 28px;
            margin-bottom: 25px;
            color: #222;
        }
        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px 40px;
            background: #f8f8f8;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
        }
        .amenity-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 16px;
        }
        .amenity-item i {
            color: #f0b90b;
            font-size: 18px;
            width: 24px;
        }
        .amenity-item span.editable {
            min-width: 100px;
            display: inline-block;
        }

        .calendar-section {
            margin: 40px 0;
        }
        .calendar-section h2 {
            font-size: 28px;
            margin-bottom: 20px;
        }
        .calendar-placeholder {
            background: #f0f0f0;
            height: 300px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            font-size: 18px;
            border: 2px dashed #ccc;
        }
        .calendar-placeholder i {
            font-size: 40px;
            color: #f0b90b;
            margin-right: 15px;
        }

        /* Right Column - Booking Card */
        .booking-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            padding: 30px;
            position: sticky;
            top: 30px;
        }
        .price-box {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .price {
            font-size: 36px;
            font-weight: 700;
            color: #f0b90b;
            font-family: 'Playfair Display', serif;
        }
        .price span {
            font-size: 16px;
            font-weight: 400;
            color: #777;
            margin-left: 5px;
        }
        .price .editable {
            display: inline-block;
            min-width: 60px;
        }
        .rating {
            background: #f0b90b20;
            padding: 8px 15px;
            border-radius: 40px;
            font-weight: 600;
        }
        .rating i {
            color: #f0b90b;
            margin-right: 5px;
        }
        .rating .editable {
            display: inline-block;
            min-width: 30px;
        }

        .booking-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .form-row {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .form-row label {
            font-weight: 600;
            color: #444;
            font-size: 14px;
        }
        .form-row input, .form-row select {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            font-size: 15px;
        }
        .counter-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .counter-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .counter-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1px solid #ddd;
            background: white;
            font-size: 18px;
            cursor: pointer;
            transition: 0.2s;
        }
        .counter-btn:hover {
            background: #f0b90b;
            color: white;
            border-color: #f0b90b;
        }
        .counter-value {
            font-weight: 600;
            min-width: 20px;
            text-align: center;
        }

        .check-availability-btn {
            background: #f0b90b;
            color: #222;
            border: none;
            padding: 16px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 40px;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
            width: 100%;
        }
        .check-availability-btn:hover {
            background: #d4a50a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .extra-info {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .extra-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            color: #555;
        }
        .extra-row span:first-child {
            font-weight: 500;
        }
        .extra-row span.editable {
            min-width: 60px;
            display: inline-block;
        }

        /* Footer */
        footer {
            background: #111;
            color: white;
            margin-top: 60px;
            padding: 40px 0 20px;
        }
        .footer-content {
            text-align: center;
            color: #aaa;
        }
        .footer-content .editable {
            display: inline-block;
            min-width: 200px;
        }

        /* Admin Icon */
        .admin-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: #f0b90b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #111;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            transition: 0.3s;
        }
        .admin-icon:hover {
            transform: rotate(30deg);
            background: #d4a50a;
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
            min-width: 180px;
        }
        .admin-panel button {
            background: #f0b90b;
            border: none;
            padding: 10px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
        }
        .admin-panel button:hover {
            background: #d4a50a;
        }
        .admin-panel button#exitAdmin {
            background: #ddd;
            color: #333;
        }
        .admin-panel button#exitAdmin:hover {
            background: #ccc;
        }

        /* Editable highlight in admin mode */
        .admin-mode [contenteditable="true"] {
            background: rgba(240, 185, 11, 0.1);
            outline: 1px dashed #f0b90b;
            padding: 2px 4px;
            border-radius: 4px;
        }
        .admin-mode img[contenteditable="false"] {
            outline: 2px solid #f0b90b;
            outline-offset: 2px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .suite-grid {
                grid-template-columns: 1fr;
            }
            .booking-card {
                position: static;
                margin-top: 30px;
            }
        }
        @media (max-width: 768px) {
            .suite-title h1 {
                font-size: 36px;
            }
            .suite-meta {
                gap: 15px;
            }
            .amenities-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="page-header">
        <div class="header-inner">
            <div class="logo">Horizon Luxury Living</div>
        </div>
    </header>

    <!-- Wrapper for all editable content (main + footer) -->
    <div id="editable-content">
        <main class="container" id="mainContent">
            <div class="suite-grid">
                <!-- Left Column: Details -->
                <div class="suite-details">
                    <!-- Image Gallery -->
                    <div class="suite-gallery">
                        <img id="mainImage" class="main-image editable-image" src="https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1974&q=80" alt="The Horizon Suite">
                        <div class="thumbnail-grid">
                            <img src="https://images.unsplash.com/photo-1566665797739-1674de7a421a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1974&q=80" alt="Suite View 1" class="editable-image" onclick="document.getElementById('mainImage').src=this.src">
                            <img src="https://images.unsplash.com/photo-1595526114035-0d45ed16cfbf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1974&q=80" alt="Suite View 2" class="editable-image" onclick="document.getElementById('mainImage').src=this.src">
                            <img src="https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80" alt="Suite View 3" class="editable-image" onclick="document.getElementById('mainImage').src=this.src">
                            <img src="https://images.unsplash.com/photo-1578683010236-d716f9a3f461?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80" alt="Suite View 4" class="editable-image" onclick="document.getElementById('mainImage').src=this.src">
                        </div>
                    </div>

                    <div class="suite-title">
                        <h1 class="editable">The Horizon Suite</h1>
                        <div class="suite-meta">
                            <div class="meta-item"><i class="fas fa-user-friends"></i> <span class="editable">4 Guests</span></div>
                            <div class="meta-item"><i class="fas fa-vector-square"></i> <span class="editable">65 mÂ² / 700 ftÂ²</span></div>
                            <div class="meta-item"><i class="fas fa-bed"></i> <span class="editable">King Size Bed</span></div>
                            <div class="meta-item"><i class="fas fa-city"></i> <span class="editable">City & Sea View</span></div>
                        </div>
                    </div>

                    <div class="suite-description">
                        <p class="editable">Designed for families or small groups seeking uncompromising luxury, The Horizon Suite offers a perfect blend of space, elegance, and breathtaking views. The suite features a separate living area, a master bedroom with a king-size bed, and a luxurious marble bathroom with a soaking tub. Every detail is curated for an unforgettable stay.</p>
                        <p class="editable">Floor-to-ceiling windows frame stunning panoramic views of the city skyline and the sea. Guests can enjoy premium amenities, including a Nespresso machine, smart home controls, and a dedicated workspace. The Horizon Suite represents the pinnacle of urban coastal living.</p>
                    </div>

                    <!-- Amenities Section (Two Columns) -->
                    <div class="amenities-section">
                        <h2 class="editable">Room Amenities</h2>
                        <div class="amenities-grid">
                            <div class="amenity-item"><i class="fas fa-wifi"></i> <span class="editable">Free High-Speed Wi-Fi</span></div>
                            <div class="amenity-item"><i class="fas fa-tv"></i> <span class="editable">65" Smart OLED TV</span></div>
                            <div class="amenity-item"><i class="fas fa-glass-cheers"></i> <span class="editable">Fully Stocked Minibar</span></div>
                            <div class="amenity-item"><i class="fas fa-mug-hot"></i> <span class="editable">Nespresso Machine</span></div>
                            <div class="amenity-item"><i class="fas fa-shield-alt"></i> <span class="editable">Safe Deposit Box</span></div>
                            <div class="amenity-item"><i class="fas fa-shower"></i> <span class="editable">Rainfall Shower</span></div>
                            <div class="amenity-item"><i class="fas fa-bed"></i> <span class="editable">Premium King Bed</span></div>
                            <div class="amenity-item"><i class="fas fa-bath"></i> <span class="editable">Deep Soaking Tub</span></div>
                            <div class="amenity-item"><i class="fas fa-spa"></i> <span class="editable">Luxury Toiletries</span></div>
                            <div class="amenity-item"><i class="fas fa-laptop"></i> <span class="editable">Ergonomic Workspace</span></div>
                            <div class="amenity-item"><i class="fas fa-wind"></i> <span class="editable">Smart Climate Control</span></div>
                            <div class="amenity-item"><i class="fas fa-concierge-bell"></i> <span class="editable">24/7 In-Room Dining</span></div>
                        </div>
                    </div>

                    <!-- Availability Calendar -->
                    <div class="calendar-section">
                        <h2 class="editable">Availability Calendar</h2>
                        <div class="calendar-placeholder">
                            <i class="fas fa-calendar-alt"></i> <span class="editable">Interactive calendar would be integrated here (e.g., from a booking plugin)</span>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Booking Card -->
                <div class="booking-card">
                    <div class="price-box">
                        <div class="price"><span class="editable">$429</span> <span>/ night</span></div>
                        <div class="rating"><i class="fas fa-star"></i> <span class="editable">4.9</span> (<span class="editable">128</span> reviews)</div>
                    </div>

                    <div class="booking-form">
                        <div class="form-row">
                            <label>Check In</label>
                            <input type="date" value="2026-06-01">
                        </div>
                        <div class="form-row">
                            <label>Check Out</label>
                            <input type="date" value="2026-06-05">
                        </div>
                        
                        <div class="form-row">
                            <label>Adults</label>
                            <div class="counter-row">
                                <span>Number of adults</span>
                                <div class="counter-controls">
                                    <button class="counter-btn" onclick="changeValue('adults', -1)">âˆ’</button>
                                    <span id="adults-value" class="counter-value">2</span>
                                    <button class="counter-btn" onclick="changeValue('adults', 1)">+</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <label>Children</label>
                            <div class="counter-row">
                                <span>Ages 0â€“17</span>
                                <div class="counter-controls">
                                    <button class="counter-btn" onclick="changeValue('children', -1)">âˆ’</button>
                                    <span id="children-value" class="counter-value">0</span>
                                    <button class="counter-btn" onclick="changeValue('children', 1)">+</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <label>Rooms</label>
                            <div class="counter-row">
                                <span>Number of rooms</span>
                                <div class="counter-controls">
                                    <button class="counter-btn" onclick="changeValue('rooms', -1)">âˆ’</button>
                                    <span id="rooms-value" class="counter-value">1</span>
                                    <button class="counter-btn" onclick="changeValue('rooms', 1)">+</button>
                                </div>
                            </div>
                        </div>

                        <button class="check-availability-btn">Check Availability</button>
                    </div>

                    <div class="extra-info">
                        <div class="extra-row">
                            <span class="editable">Extra bed</span>
                            <span class="editable">$50 / night</span>
                        </div>
                        <div class="extra-row">
                            <span class="editable">Pet fee</span>
                            <span class="editable">$75 / stay</span>
                        </div>
                        <div class="extra-row">
                            <span class="editable">Breakfast</span>
                            <span class="editable">Included</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <p class="editable">&copy; 2026 Horizon Luxury Living. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Admin Icon and Panel -->
    <div id="adminIcon" class="admin-icon"><i class="fas fa-cog"></i></div>
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <button id="saveToFirebase">ðŸ’¾ Save to Firebase</button>
        <button id="resetDefault">â†º Reset to Default</button>
        <button id="exitAdmin">ðŸšª Exit Admin</button>
    </div>

    <script>
        // Firebase configuration (provided by user)
        const firebaseConfig = {
            apiKey: "AIzaSyBMzcjbqruiE_nJXhEfUWaASHbKE8YM60E",
            authDomain: "horizonluxury-18b60.firebaseapp.com",
            projectId: "horizonluxury-18b60",
            storageBucket: "horizonluxury-18b60.firebasestorage.app",
            messagingSenderId: "521174900591",
            appId: "1:521174900591:web:e7773cdd8052a6214b529a"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Reference to the single document storing content
        const contentDoc = db.collection('website').doc('content');

        // Counter functionality
        function changeValue(id, delta) {
            const element = document.getElementById(id + '-value');
            let current = parseInt(element.innerText);
            let newValue = current + delta;
            if (id === 'adults' && newValue < 1) newValue = 1;
            else if (newValue < 0) newValue = 0;
            if (id === 'rooms' && newValue < 1) newValue = 1;
            element.innerText = newValue;
        }

        // Global variables
        const adminIcon = document.getElementById('adminIcon');
        const adminPanel = document.getElementById('adminPanel');
        const body = document.body;
        const editableContentDiv = document.getElementById('editable-content');
        let defaultHTML = editableContentDiv.innerHTML; // store default for reset
        let adminMode = false;

        // Load content from Firebase on page load
        async function loadContentFromFirebase() {
            try {
                const doc = await contentDoc.get();
                if (doc.exists) {
                    const savedHTML = doc.data().html;
                    editableContentDiv.innerHTML = savedHTML;
                    // Reattach thumbnail click handlers and main image reference
                    reattachThumbnailClicks();
                } else {
                    console.log('No saved content, using default.');
                }
            } catch (error) {
                console.error('Error loading from Firebase:', error);
            }
        }

        // Helper to reattach thumbnail click events (since innerHTML breaks them)
        function reattachThumbnailClicks() {
            const thumbnails = document.querySelectorAll('.thumbnail-grid img');
            thumbnails.forEach(img => {
                img.addEventListener('click', function() {
                    const mainImage = document.getElementById('mainImage');
                    if (mainImage) mainImage.src = this.src;
                });
            });
        }

        // Save current content to Firebase
        async function saveToFirebase() {
            const currentHTML = editableContentDiv.innerHTML;
            try {
                await contentDoc.set({ html: currentHTML });
                alert('âœ… Changes saved to Firebase! They will be live for all visitors.');
            } catch (error) {
                alert('âŒ Error saving: ' + error.message);
            }
        }

        // Reset to default (hardcoded initial HTML)
        function resetToDefault() {
            if (confirm('Reset all content to default? This will lose any unsaved changes.')) {
                editableContentDiv.innerHTML = defaultHTML;
                reattachThumbnailClicks();
                if (adminMode) {
                    enableAdminEditing();
                }
            }
        }

        // Enable admin editing features
        function enableAdminEditing() {
            // Make all .editable elements contenteditable
            document.querySelectorAll('.editable').forEach(el => {
                el.setAttribute('contenteditable', 'true');
            });

            // Make images clickable for URL change
            document.querySelectorAll('.editable-image').forEach(img => {
                img.style.cursor = 'pointer';
                img.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const newUrl = prompt('Enter new image URL:', this.src);
                    if (newUrl) {
                        this.src = newUrl;
                        // If this is main image, nothing else; if thumbnail, also update its own src
                    }
                });
            });
        }

        // Disable admin editing
        function disableAdminMode() {
            adminMode = false;
            body.classList.remove('admin-mode');
            adminPanel.style.display = 'none';

            // Remove contenteditable
            document.querySelectorAll('.editable').forEach(el => {
                el.removeAttribute('contenteditable');
            });

            // Remove image click handlers by reloading page (simplest)
            location.reload();
        }

        // Admin icon click â€“ password and toggle panel
        adminIcon.addEventListener('click', () => {
            if (adminMode) {
                adminPanel.style.display = adminPanel.style.display === 'none' ? 'flex' : 'none';
                return;
            }
            const password = prompt('Enter admin password:');
            if (password === '6262') {
                adminMode = true;
                body.classList.add('admin-mode');
                adminPanel.style.display = 'flex';
                enableAdminEditing();
            } else {
                alert('Incorrect password');
            }
        });

        // Button event listeners
        document.getElementById('saveToFirebase').addEventListener('click', saveToFirebase);
        document.getElementById('resetDefault').addEventListener('click', resetToDefault);
        document.getElementById('exitAdmin').addEventListener('click', disableAdminMode);

        // Initial load
        window.addEventListener('load', () => {
            loadContentFromFirebase().then(() => {
                // After loading, reattach thumbnail clicks again (in case they were overwritten)
                reattachThumbnailClicks();
            });
        });
    </script>
</body>
</html>
